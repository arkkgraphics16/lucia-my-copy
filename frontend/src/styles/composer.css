/* lucia-secure/frontend/src/styles/composer.css */

/* Bottom composer: transparent backdrop, only the input has a shadow */
.composer{
  position: fixed;
  bottom: max(12px, env(safe-area-inset-bottom));
  left: 12px;             /* mobile/tablet overlay nav → full width */
  right: 12px;
  z-index: 30;            /* above thread, below sidebar drawer */
  display: flex;
  gap: 10px;
  align-items: flex-end;
  pointer-events: none;   /* let clicks pass except on children (set below) */
}

/* When there’s a persistent sidebar (desktop), start AFTER the sidebar. 
   If your sidebar width differs, set --sidebar-width on :root or .sidebar. */
@media (min-width: 1024px){
  .composer{
    left: calc(var(--sidebar-width, 260px) + 12px);
  }
}

/* Help “raise” the bar above the soft keyboard (iOS Safari) */
@supports (height: env(keyboard-inset-height)){
  .composer{
    bottom: calc(12px + env(keyboard-inset-height));
  }
}

/* The input area */
.composer .textarea{
  pointer-events: auto;
  flex: 1;
  background: var(--surface);               /* same as chat bg */
  color: var(--text);
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 14px 16px;
  outline: none;
  resize: none;
  min-height: 44px;                          /* compact default */
  max-height: 33vh;
  overflow-y: auto;
  box-shadow: 0 12px 28px rgba(0,0,0,.28);   /* soft 3D shadow */
}

/* Buttons block */
.composer .actions{
  pointer-events: auto;
  display: flex; align-items: center; gap: 8px;
}

/* Send / Cancel buttons */
.action-btn{
  width: 56px; height: 56px;
  border: 0; border-radius: 999px;
  display: inline-flex; align-items: center; justify-content: center;
  box-shadow: 0 10px 24px rgba(0,0,0,.25);
}
.action-btn.send{ background: var(--primary); }
.action-btn.send:disabled{ opacity: .45; cursor: not-allowed; }
.action-btn.cancel{ background: #ef4444; }

/* Make the white arrow look clean */
.action-btn.send svg{
  width: 28px; height: 28px;
}
