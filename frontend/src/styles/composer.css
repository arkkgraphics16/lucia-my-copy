/* lucia-secure/frontend/src/styles/composer.css */

/* dynamic vars set by JS */
:root{
  --composer-h: 72px;
  --kb-safe: 0px;
}

/* sizing for textarea (used by JS too) */
.textarea{ --ta-min: 48px; --ta-max: 240px; } /* â‰ˆ 10 lines */

/* Composer bar: same bg as chat area + shadow */
.composer{
  display:flex; gap:10px; align-items:flex-end;
  padding:12px;
  background: var(--surface-2);
  border-top:1px solid var(--border);
  box-shadow: 0 -10px 24px rgba(0,0,0,.28);
  position: sticky; bottom: 0; z-index: 60;
}

/* Textarea */
.textarea{
  flex:1 1 auto;
  min-height: var(--ta-min);
  max-height: var(--ta-max);
  padding:12px 14px;
  border-radius:14px;
  border:1px solid var(--border);
  background: var(--surface);
  color: var(--text);
  resize:none; line-height:1.4;
  box-shadow: var(--shadow-2);
  outline:none;
  transition: height .12s ease; /* snappy shrink/expand */
}

/* Thread bottom spacing so last msg isn't covered */
.thread{ padding-bottom: calc(var(--composer-h) + 12px); }

/* Controls */
.controls{ display:flex; gap:10px; align-items:center; }

/* ===== Send button: blue circle + red triangle ===== */
.send-pill{
  appearance:none; border:none; background:transparent;
  padding:0; line-height:0; cursor:pointer;
  width:46px; height:46px;
}
.send-pill svg{ width:46px; height:46px; display:block; }
.pill-bg{ fill: var(--primary); }            /* blue circle */
.pill-arrow{ fill: #FF3B30; }                /* solid red triangle */

/* disabled (no text): dim both bg and arrow */
.send-pill:disabled{ cursor:default; opacity:.55; }

/* Cancel stays red (your existing style) */
.action-btn.cancel{
  width:46px; height:46px; border-radius:999px;
  display:inline-flex; align-items:center; justify-content:center;
  border:1px solid transparent; background: var(--core); box-shadow: var(--shadow-1);
}

/* Mobile: lift above keyboard */
@media (max-width:768px){
  .composer{ position: fixed; left:0; right:0; bottom: var(--kb-safe, 0px); }
  .thread{ padding-bottom: calc(var(--composer-h) + 18px); }
}
